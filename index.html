<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°ì´í„° ë¶„ì„ ìš”ì²­</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <style>
        :root {
            /* í…Œë§ˆ ìƒ‰ìƒ: ì—°ë³´ë¼ & ë³´ë¼ */
            --primary-color: #8B5CF6; /* ë©”ì¸ ë³´ë¼ìƒ‰ */
            --primary-hover: #7C3AED; /* ì§„í•œ ë³´ë¼ (í˜¸ë²„ì‹œ) */
            --bg-gradient-start: #F3E8FF; /* ì•„ì£¼ ì—°í•œ ë³´ë¼ ë°°ê²½ */
            --bg-gradient-end: #E9D5FF;
            --text-main: #333333;
            --input-bg: #FFFFFF;
            --border-color: #DDD6FE; /* ì—°ë³´ë¼ í…Œë‘ë¦¬ */
        }

        * {
            box-sizing: border-box;
            font-family: 'Pretendard', sans-serif;
        }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            color: var(--text-main);
            padding: 20px;
        }

        .container {
            background: #ffffff;
            width: 100%;
            max-width: 500px; /* ì ë‹¹í•œ ì¹´ë“œ í¬ê¸° */
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.15); /* ë³´ë¼ìƒ‰ ê·¸ë¦¼ì */
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        h1 {
            text-align: center;
            font-size: 22px;
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 30px;
            font-weight: 800;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
        }

        /* ì…ë ¥ì°½ ë””ìì¸ */
        input, select {
            width: 100%;
            padding: 14px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            font-size: 15px;
            background-color: var(--input-bg);
            transition: all 0.2s;
            outline: none;
            color: #333;
        }

        input:focus, select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2); /* ë³´ë¼ìƒ‰ í¬ì»¤ìŠ¤ë§ */
        }

        /* [í•µì‹¬] ë‚ ì§œ ì…ë ¥ì°½ íŠ¸ë¦­ 
           ì²˜ìŒì—” type="text"ë¡œ ë¹ˆì¹¸ì„ ë³´ì—¬ì£¼ê³ , 
           í´ë¦­(Focus)í•˜ë©´ type="date"ë¡œ ë°”ë€Œì–´ ë‹¬ë ¥ì´ ëœ¨ê²Œ í•¨ 
        */
        input[type="text"].date-input-trick {
            color: #333;
        }

        /* êµ¬ë¶„ì„  */
        .divider {
            height: 1px;
            background-color: #F3F4F6;
            margin: 25px 0;
            position: relative;
        }
        .divider span {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            padding: 0 10px;
            font-size: 12px;
            color: #9CA3AF;
            font-weight: 600;
        }

        .date-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        /* ì „ì†¡ ë²„íŠ¼ */
        .btn-submit {
            width: 100%;
            padding: 16px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.2s, transform 0.1s;
        }

        .btn-submit:hover {
            background-color: var(--primary-hover);
        }
        
        .btn-submit:active {
            transform: scale(0.98);
        }

        /* ë¡œë”© ìƒíƒœ */
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ“Š ë°ì´í„° ë¹„êµ ìš”ì²­</h1>

        <div class="input-group">
            <label>ìš”ì²­ì ì´ë¦„</label>
            <input type="text" id="user-name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>

        <div class="input-group">
            <label>ì‚¬ì—…ë¶€</label>
            <select id="business-unit">
                <option value="" disabled selected>ì‚¬ì—…ë¶€ ì„ íƒ</option>
                <option value="hackers_english">í•´ì»¤ìŠ¤ì˜ì–´</option>
                <option value="hackers_ingang">í•´ì»¤ìŠ¤ì¸ê°•</option>
                <option value="hackers_language">í•´ì»¤ìŠ¤ì–´í•™ì›</option>
            </select>
        </div>

        <div class="divider"><span>ê¸°ê°„ ì„¤ì •</span></div>

        <label style="color:var(--primary-color); margin-bottom:10px;">ê¸°ì¤€ ê¸°ê°„ (A)</label>
        <div class="date-row input-group">
            <div>
                <input type="text" id="start-date-A" class="date-input-trick" placeholder="ì‹œì‘ì¼" 
                       onfocus="(this.type='date')" onblur="if(!this.value) this.type='text'">
            </div>
            <div>
                <input type="text" id="end-date-A" class="date-input-trick" placeholder="ì¢…ë£Œì¼" 
                       onfocus="(this.type='date')" onblur="if(!this.value) this.type='text'">
            </div>
        </div>

        <label style="color:var(--primary-color); margin-bottom:10px;">ë¹„êµ ê¸°ê°„ (B)</label>
        <div class="date-row input-group">
            <div>
                <input type="text" id="start-date-B" class="date-input-trick" placeholder="ì‹œì‘ì¼" 
                       onfocus="(this.type='date')" onblur="if(!this.value) this.type='text'">
            </div>
            <div>
                <input type="text" id="end-date-B" class="date-input-trick" placeholder="ì¢…ë£Œì¼" 
                       onfocus="(this.type='date')" onblur="if(!this.value) this.type='text'">
            </div>
        </div>

        <button type="button" class="btn-submit" onclick="sendData()">ë°ì´í„° ì „ì†¡</button>
    </div>

    <script>
        function sendData() {
            // ê°’ ê°€ì ¸ì˜¤ê¸°
            const userName = document.getElementById('user-name').value;
            const businessUnit = document.getElementById('business-unit').value;
            const startDateA = document.getElementById('start-date-A').value;
            const endDateA = document.getElementById('end-date-A').value;
            const startDateB = document.getElementById('start-date-B').value;
            const endDateB = document.getElementById('end-date-B').value;

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!userName) { alert("ìš”ì²­ì ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
            if (!businessUnit) { alert("ì‚¬ì—…ë¶€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”."); return; }
            if (!startDateA || !endDateA || !startDateB || !endDateB) {
                alert("ëª¨ë“  ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                return;
            }

            // ë²„íŠ¼ ë¡œë”© ì²˜ë¦¬
            const btn = document.querySelector('.btn-submit');
            const originalText = btn.innerText;
            btn.innerText = "ì „ì†¡ ì¤‘...";
            btn.classList.add('loading');

            // ë°ì´í„° í¬ë§·íŒ…
            const payload = {
                requester: userName,
                business_unit: businessUnit,
                period_A: { start: startDateA, end: endDateA },
                period_B: { start: startDateB, end: endDateB },
                created_at: new Date().toISOString()
            };

            // ==========================================
            // [ì²´í¬] n8n í„°ë„ URLì„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
            // ==========================================
            const webhookUrl = 'http://localhost:5677/webhook-test/732d0e94-da9b-4e0c-80c5-10c46f838e37'; 

            fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            })
            .then(response => {
                if (response.ok) {
                    alert('âœ… ë°ì´í„° ì „ì†¡ ì„±ê³µ!');
                } else {
                    alert('âŒ ì „ì†¡ ì‹¤íŒ¨');
                }
            })
            .catch((error) => {
                console.error(error);
                alert('âš ï¸ ì—ëŸ¬: ' + error);
            })
            .finally(() => {
                btn.innerText = originalText;
                btn.classList.remove('loading');
            });
        }
    </script>

</body>
</html>
